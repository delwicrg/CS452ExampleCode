<html>
<head>
    <title>Cheese Time!</title>

    <style>
    	body{
    		margin: 0;
    		overflow: hidden;
    	}
    </style>
</head>
<body onkeydown="moveKeys(event)">
    <canvas id="myCanvas"></canvas>
    <script src="three.js"></script>
    <script src="GLTFLoader.js"></script>

    <script>

        var renderer,scene,camera,myCanvas = document.getElementById('myCanvas');

        //RENDERER
        renderer = new THREE.WebGLRenderer({
        canvas: myCanvas, 
        antialias: true
        });

        renderer.setClearColor(0xFFEE9A);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);

        //CAMERA
        camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 0.1, 1000 );
        

        //SCENE
        scene = new THREE.Scene();
        camera.lookAt(scene.position); 

        //LIGHTS
        var light = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(light);

        var light2 = new THREE.PointLight(0xffffff, 0.5);
        scene.add(light2);

    var rotateTeapot = 0;
    var rotateRight = 0;
    var rotateLeft = 0;

    var PosMoveTeapotX = 0;
    var PosMoveRightX = 0;
    var PosMoveLeftX = 0; 

    var NegMoveTeapotX = 0;
    var NegMoveRightX = 0;
    var NegMoveLeftX = 0; 

    var PosMoveTeapotY = 0;
    var PosMoveRightY = 0;
    var PosMoveLeftY = 0; 

    var NegMoveTeapotY = 0;
    var NegMoveRightY = 0;
    var NegMoveLeftY = 0; 

    var ScaleTeapot = 0;
    var ScaleLeft = 0;
    var ScaleRight = 0; 

        const color = 0xCFE2F3;
        const intensity = 1;
        const light3 = new THREE.DirectionalLight(color, intensity);
        light3.position.set(0, 10, 0);
        light3.target.position.set(-5, 0, 0);
        scene.add(light3);
        scene.add(light3.target);

        const loader = new THREE.GLTFLoader();

        var teapot;
        loader.load('teapot.glb',
        function(gltf){
            teapot = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            teapot.position.z = -40.0;

            teapot.rotation.x = 0.2;
            teapot.rotation.y = 0.5;
        });


        var rightCup;
        loader.load('cup.glb',
        function(gltf){
            rightCup = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            rightCup.scale.set(9, 9, 9);
            rightCup.position.z = -25;
            rightCup.position.y = -0.70;
            rightCup.position.x = 5.25;

            rightCup.rotation.x = 0.2;
            rightCup.rotation.y = 0.5;
        });

        var leftCup;
        loader.load('cup.glb',
        function(gltf){
            leftCup = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            leftCup.scale.set(10, 10, 10);
            leftCup.position.z = -35;
            leftCup.position.y = -0.75;
            leftCup.position.x = -5;

            leftCup.rotation.x = 0.2;
            leftCup.rotation.y = 0.5;
        });

        
        var leftPlate;
        loader.load('plate.glb',
        function(gltf){
            leftPlate = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            leftPlate.scale.set(0.5, 0.5, 0.5);
            leftPlate.position.z = -30;
            leftPlate.position.y = -1;
            leftPlate.position.x = -2;

            leftPlate.rotation.x = 0.2;
            leftPlate.rotation.y = 0.8;
        });


        var rightPlate;
        loader.load('plate.glb',
        function(gltf){
            rightPlate = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            rightPlate.scale.set(0.5, 0.5, 0.5);
            rightPlate.position.z = -25;
            rightPlate.position.y = -1;
            rightPlate.position.x = 3.5;

            rightPlate.rotation.x = 0.2;
            rightPlate.rotation.y = 0.8;
        });


        var lamp;
        loader.load('lamp.glb',
        function(gltf){
            lamp = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            lamp.scale.set(10, 10, 10);
            lamp.position.z = -25;
            lamp.position.y = 5;

            lamp.rotation.x = 0.2;
            lamp.rotation.y = 0.8;
        });
        
        var photo;
        loader.load('photo.glb',
        function(gltf){
            photo = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            photo.scale.set(1.5, 1.5, 1.5);
            photo.position.z = -65;
            photo.position.y = 15;
            photo.position.x = -18;

            photo.rotation.x = 1.8;
            photo.rotation.z = -0.8;
        });
        

        var plant;
        loader.load('plant.glb',
        function(gltf){
            plant = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            plant.scale.set(18,18,18);
            plant.position.z = -45;
            plant.position.y = -10;
            plant.position.x = -38;
        });


        var table;
        loader.load('table.glb',
        function(gltf){
            table = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            table.scale.set(2.35, 2.35, 2.35);
            table.position.z = -40;
            
            table.rotation.x = 0.2;
            table.rotation.y = 0.5;
        });


        var fireplace;
        loader.load('fireplace.glb',
        function(gltf){
            fireplace = gltf.scene;

            gltf.scene.traverse(function(node){
            if(node.isMesh){
                node.castShadow = true;
                node.receiveShadow = true;
            }
            });
            scene.add(gltf.scene);
            fireplace.scale.set(10, 10, 10);
            fireplace.position.z = -55;
            fireplace.position.y = -5;
            fireplace.position.x = 20;

            fireplace.rotation.x = 0.2;
            fireplace.rotation.y = -0.9;
        });



        //RENDER LOOP
        render();

        var delta = 0;
        var prevTime = Date.now();

        function render() {
            delta += 0.1;

            delta += 0.1;

if (teapot) {  
    if(rotateTeapot == 1){teapot.rotation.z += 0.006;}
    if(PosMoveTeapotX == 1){ teapot.position.x += .01;}
    if(NegMoveTeapotX == 1){ teapot.position.x -= .01;}
    if(PosMoveTeapotY == 1){ teapot.position.y += .01;}
    if(NegMoveTeapotY == 1){ teapot.position.y -= .01;}
    if(ScaleTeapot == 1){ teapot.scale.x += .001; teapot.scale.y += .001; teapot.scale.z += .001; }

    

}
if (rightCup ) {  
    if(rotateRight == 1){rightCup.rotation.y += 0.01;}
    if(PosMoveRightX == 1){rightCup.position.x += .01;}
    if(NegMoveRightX == 1){rightCup.position.x -= .01;}
    if(PosMoveRightY == 1){rightCup.position.y += .01;}
    if(NegMoveRightY == 1){rightCup.position.y -= .01;}
    if(ScaleRight == 1){ rightCup.scale.x += .01; rightCup.scale.y += .01; rightCup.scale.z += .01;}


}
if (leftCup ) {  
    if(rotateLeft == 1){leftCup.rotation.y += 0.01;}
    if(PosMoveLeftX == 1){leftCup.position.x += .01;}
    if(NegMoveLeftX == 1){leftCup.position.x -= .01;}
    if(PosMoveLeftY == 1){leftCup.position.y += .01;}
    if(NegMoveLeftY == 1){leftCup.position.y -= .01;}
    if(ScaleLeft == 1){ leftCup.scale.x += .01;  leftCup.scale.y += .01;  leftCup.scale.z += .01;}


}

            renderer.render(scene, camera);

            requestAnimationFrame(render);
        }
        function moveKeys(event){
        var theKeyCode = event.keyCode;

        // a s d w e q
        // LEFT CUP
        if(theKeyCode == 69){ if(rotateLeft == 0){rotateLeft= 1;} else{rotateLeft = 0;}} // e 
        else if(theKeyCode == 68){if(PosMoveLeftX == 0){PosMoveLeftX = 1; NegMoveLeftX = 0; PosMoveLeftY = 0; NegMoveLeftY = 0;} else{PosMoveLeftX = 0;};} // d
        else if(theKeyCode == 65){if(NegMoveLeftX == 0){NegMoveLeftX = 1; PosMoveLeftX = 0; PosMoveLeftY = 0; NegMoveLeftY = 0;} else{NegMoveLeftX = 0;};} // f
        else if(theKeyCode == 87){if(PosMoveLeftY == 0){PosMoveLeftY = 1; NegMoveLeftY = 0; PosMoveLeftX = 0; NegMoveLeftX = 0;} else{PosMoveLeftY = 0;};} // w
        else if(theKeyCode == 83){if(NegMoveLeftY == 0){NegMoveLeftY = 1; PosMoveLeftY = 0; PosMoveLeftX = 0; NegMoveLeftX = 0;} else{NegMoveLeftY = 0;};} // s
        else if(theKeyCode == 81){ if(ScaleLeft == 0){ScaleLeft= 1;} else{ScaleLeft = 0;}} // q


       
        // f g h t y r
        // TEAPOT
        else if(theKeyCode == 89){if(rotateTeapot == 0){rotateTeapot = 1; } else{rotateTeapot = 0;} } // y
        else if(theKeyCode == 72){if(PosMoveTeapotX == 0){PosMoveTeapotX = 1; NegMoveTeapotX = 0; NegMoveTeapotY = 0; PosMoveTeapotY = 0;} else{PosMoveTeapotX = 0;};} // h
        else if(theKeyCode == 70){if(NegMoveTeapotX == 0){NegMoveTeapotX = 1; PosMoveTeapotX = 0; NegMoveTeapotY = 0; PosMoveTeapotY = 0;} else{NegMoveTeapotX = 0;};} // f
        else if(theKeyCode == 84){if(PosMoveTeapotY == 0){PosMoveTeapotY = 1; NegMoveTeapotY = 0; NegMoveTeapotX = 0; PosMoveTeapotX = 0;} else{PosMoveTeapotY = 0;};} // t
        else if(theKeyCode == 71){if(NegMoveTeapotY == 0){NegMoveTeapotY = 1; PosMoveTeapotY = 0; NegMoveTeapotX = 0; PosMoveTeapotX = 0;} else{NegMoveTeapotY = 0;};} // g
        else if(theKeyCode == 82){ if(ScaleTeapot == 0){ScaleTeapot= 1;} else{ScaleTeapot = 0;}} // q



        // j k l i o u
        // RIGHT CUP
        else if(theKeyCode == 79){if(rotateRight == 0){rotateRight = 1;} else{rotateRight = 0;};} // o  
        else if(theKeyCode == 76){if(PosMoveRightX == 0){PosMoveRightX = 1; NegMoveRightX = 0; NegMoveRightY = 0; NegMoveRightY = 0;} else{PosMoveRightX = 0;};} // l 
        else if(theKeyCode == 74){if(NegMoveRightX == 0){NegMoveRightX = 1; PosMoveRightX = 0; NegMoveRightY = 0; NegMoveRightY = 0;} else{NegMoveRightX = 0;};} // j
        else if(theKeyCode == 73){if(PosMoveRightY == 0){PosMoveRightY = 1; NegMoveRightY = 0; NegMoveRightX = 0; NegMoveRightX = 0;} else{PosMoveRightY = 0;};} // i
        else if(theKeyCode == 75){if(NegMoveRightY == 0){NegMoveRightY = 1; PosMoveRightY = 0; NegMoveRightX = 0; NegMoveRightX = 0;} else{NegMoveRightY = 0;};} // k
        else if(theKeyCode == 85){ if(ScaleRight == 0){ScaleRight= 1;} else{ScaleRight = 0;}} // q

    }


    </script>
</body>
</html>
